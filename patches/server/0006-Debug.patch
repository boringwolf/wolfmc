From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: boringwolf <boringwolf@leandev.io>
Date: Wed, 8 May 2024 19:59:03 +0800
Subject: [PATCH] =?UTF-8?q?=E6=96=B0=E5=A2=9E=20Debug=20=E8=A8=8A=E6=81=AF?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit


diff --git a/src/main/java/io/papermc/paper/plugin/provider/source/FileProviderSource.java b/src/main/java/io/papermc/paper/plugin/provider/source/FileProviderSource.java
index 04b43aa09100700718295c31c4c345717038a1ab..898e80b953f014a1ea5b09ed2fe0f8e735a8db15 100644
--- a/src/main/java/io/papermc/paper/plugin/provider/source/FileProviderSource.java
+++ b/src/main/java/io/papermc/paper/plugin/provider/source/FileProviderSource.java
@@ -100,6 +100,8 @@ public class FileProviderSource implements ProviderSource<Path, Path> {
                 Path updateLocation = visitor.getValidPlugin();
                 HashCode updateHash = HashCode.fromBytes(Files.readAllBytes(updateLocation));
 
+                LOGGER.debug("Checking for plugin update: {} ({} -> {})", pluginName, pluginHash, updateHash);
+
                 if (pluginHash.equals(updateHash)) {
                     return file;
                 }
@@ -116,6 +118,7 @@ public class FileProviderSource implements ProviderSource<Path, Path> {
                 LOGGER.info("Updated plugin {} from version {} to version {}", pluginName, pluginVersion, updatePluginVersion);
                 return newName.toPath();
             }
+            LOGGER.debug("No update found for plugin {}", pluginName);
         } catch (Exception e) {
             throw new InvalidPluginException(e);
         }
